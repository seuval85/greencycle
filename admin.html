<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>GreenCycle • Admin locale</title>
  <link rel="stylesheet" href="styles.css"/>
  <script defer src="admin.js"></script>
</head>
<body>
<header class="wrap header">
  <img src="assets/logo.svg" alt="GreenCycle" class="logo">
  <nav>
    <a href="index.html">← Retour site</a>
  </nav>
</header>

<section class="wrap">
  <h1>Admin locale (démo, offline)</h1>
  <p class="muted">Les données sont stockées en <strong>localStorage</strong>. Vous pouvez importer/exporter JSON/CSV. Idéal pour un MVP.</p>

  <div class="grid-2">
    <div class="card">
      <h2>Catalogue</h2>
      <div class="row">
        <button id="btnImportJson" class="btn ghost">Importer JSON</button>
        <button id="btnExportJson" class="btn">Exporter JSON</button>
      </div>
      <div class="row">
        <button id="btnImportCsv" class="btn ghost">Importer CSV</button>
        <button id="btnExportCsv" class="btn">Exporter CSV</button>
      </div>
      <div class="row">
        <button id="btnGenerateGoogleXml" class="btn">Générer Google Merchant XML</button>
        <a class="btn ghost" href="feeds/google-products.xml" download>Télécharger XML</a>
      </div>
      <details>
        <summary>Ajouter un produit</summary>
        <form id="prodForm" class="stack">
          <input name="title" placeholder="Titre" required/>
          <input name="brand" placeholder="Marque"/>
          <input name="sku" placeholder="SKU/Ref (unique)"/>
          <input name="price" type="number" step="0.01" placeholder="Prix"/>
          <select name="category" id="adminCat"></select>
          <select name="segment">
            <option value="espaces_verts">Espaces verts</option>
            <option value="camping">Camping</option>
          </select>
          <select name="condition">
            <option value="occasion">Occasion</option>
            <option value="reconditionné">Reconditionné</option>
            <option value="neuf">Neuf</option>
          </select>
          <textarea name="description" rows="3" placeholder="Description"></textarea>
          <input name="image" placeholder="URL image (facultatif)"/>
          <button class="btn" type="submit">Ajouter</button>
        </form>
      </details>
      <div id="adminList"></div>
    </div>
    <div class="card">
      <h2>Leads “Vendre un matériel”</h2>
      <div class="row">
        <button id="btnExportLeads" class="btn">Exporter CSV</button>
        <button id="btnClearLeads" class="btn danger">Vider</button>
      </div>
      <div id="leadList"></div>
      <p class="muted">Pour activer un envoi automatique (email / Google Sheets), connectez Zapier/Make avec un Webhook. Voir README.</p>
    </div>
  </div>
</section>

<footer class="wrap footer">
  <p>© <span id="year"></span> GreenCycle — Admin locale.</p>
</footer>
</body>
</html>
